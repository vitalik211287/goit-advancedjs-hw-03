{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst API_KEY = '30108062-264069135fbcff220b3f8c28b';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n\n\n\n\nconst refs = {\n  searchForm: document.querySelector('form'),\n  gallery: document.querySelector('.js-gallery'),\n};\n\nconst onSearchSubmit = e => {\n  e.preventDefault();\n  const { target: searchForm } = e;\n  const value = searchForm.elements.query.value.trim();\n  if (value.length === 0) {\n    iziToast.warning({ title: 'Увага', message: 'Введи пошуковий запит' });\n    return;\n  }\n  fetchImages(value);\n};\n\nrefs.searchForm.addEventListener('submit', onSearchSubmit);\n\n\n\n\nexport function fetchImages(value) {\n  return fetch(`${BASE_URL}?key=${API_KEY}&q=${value}&image_type=photo`)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(`HTTP error ${res.status}`);\n      }\n      const data = res.json();\n      return data;\n    })\n    .then(data => {\n      console.log(data.hits);\n      const galleryCardsTemplate = data.hits\n        .map(cardInfo => createGalleryCardTemplate(cardInfo))\n        .join('');\n      console.log(galleryCardsTemplate);\n      refs.gallery.innerHTML = galleryCardsTemplate;\n    })\n    .catch(err => {\n      if (err.status === '404') {\n        console.log('❌ Error 404: Not Found');\n      } else {\n        console.log('⚠️ Network or other error:', err.message);\n      }\n    });\n}\n\nconst createGalleryCardTemplate = cardInfo => {\n  return `<li class=\"gallery-card\">\n    <img class=\"gallery-img\" src=${cardInfo.webformatURL} alr='${cardInfo.tags}' />\n  </li>`;\n};\n"],"names":["API_KEY","BASE_URL","refs","onSearchSubmit","e","searchForm","value","iziToast","fetchImages","res","data","galleryCardsTemplate","cardInfo","createGalleryCardTemplate","err"],"mappings":"ivBAGA,MAAMA,EAAU,qCACVC,EAAW,2BAMXC,EAAO,CACX,WAAY,SAAS,cAAc,MAAM,EACzC,QAAS,SAAS,cAAc,aAAa,CAC/C,EAEMC,EAAiBC,GAAK,CAC1BA,EAAE,eAAc,EAChB,KAAM,CAAE,OAAQC,CAAY,EAAGD,EACzBE,EAAQD,EAAW,SAAS,MAAM,MAAM,OAC9C,GAAIC,EAAM,SAAW,EAAG,CACtBC,EAAS,QAAQ,CAAE,MAAO,QAAS,QAAS,uBAAuB,CAAE,EACrE,MACD,CACDC,EAAYF,CAAK,CACnB,EAEAJ,EAAK,WAAW,iBAAiB,SAAUC,CAAc,EAKlD,SAASK,EAAYF,EAAO,CACjC,OAAO,MAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAMM,CAAK,mBAAmB,EAClE,KAAKG,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,cAAcA,EAAI,MAAM,EAAE,EAG5C,OADaA,EAAI,MAEvB,CAAK,EACA,KAAKC,GAAQ,CACZ,QAAQ,IAAIA,EAAK,IAAI,EACrB,MAAMC,EAAuBD,EAAK,KAC/B,IAAIE,GAAYC,EAA0BD,CAAQ,CAAC,EACnD,KAAK,EAAE,EACV,QAAQ,IAAID,CAAoB,EAChCT,EAAK,QAAQ,UAAYS,CAC/B,CAAK,EACA,MAAMG,GAAO,CACRA,EAAI,SAAW,MACjB,QAAQ,IAAI,wBAAwB,EAEpC,QAAQ,IAAI,6BAA8BA,EAAI,OAAO,CAE7D,CAAK,CACL,CAEA,MAAMD,EAA4BD,GACzB;AAAA,mCAC0BA,EAAS,YAAY,SAASA,EAAS,IAAI;"}